AddType text/cache-manifest .appcache

<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType application/x-font-woff "access plus 1 years"  # Version in query string
    ExpiresByType image/vnd.microsoft.icon "access plus 1 years" # Should be static
    ExpiresByType text/cache-manifest "access plus 120 seconds"  # We still need to check for updates
    ExpiresByType text/html "access plus 300 seconds"            # Should probably revision these
    ExpiresByType image/png "access plus 1 months"               # Images should be pretty static
    ExpiresByType image/jpg "access plus 1 months"               # Images should be pretty static
    ExpiresByType application/javascript "access plus 1 years"   # Revisioned files ftw
    ExpiresByType text/css "access plus 1 years"                 # Revisioned files ftw
</IfModule>

<IfModule mod_rewrite.c>
    Options -MultiViews

    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_URI} !.*\.(css|gif|png|jpg|ico|js|appcache)
    RewriteRule ^ index.html [QSA,L]
</IfModule>
